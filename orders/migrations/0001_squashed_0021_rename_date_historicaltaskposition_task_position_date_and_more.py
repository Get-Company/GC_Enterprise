# Generated by Django 5.1.1 on 2024-11-27 12:07

import colorful.fields
import django.db.models.deletion
import django.utils.timezone
import orders.models
import simple_history.models
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    replaces = [('orders', '0001_initial'), ('orders', '0002_alter_order_end_date'), ('orders', '0003_task_rename_documenttype_ordertype_and_more'), ('orders', '0004_order_company'), ('orders', '0005_remove_document_document_type_delete_documenthistory'), ('orders', '0006_alter_document_file_path'), ('orders', '0007_order_hourly_rate'), ('orders', '0008_task_name_task_order_alter_order_tasks'), ('orders', '0009_vat_task_vat'), ('orders', '0010_vat_created_at_vat_is_default_vat_updated_at'), ('orders', '0011_order_nr'), ('orders', '0012_alter_order_nr'), ('orders', '0013_document_created_by_order_created_by_and_more'), ('orders', '0014_document_updated_by_order_updated_by_and_more'), ('orders', '0015_remove_order_order_type_alter_document_options_and_more'), ('orders', '0016_document_introduction_and_more'), ('orders', '0017_alter_document_introduction_and_more'), ('orders', '0018_alter_document_introduction_and_more'), ('orders', '0019_alter_document_introduction_and_more'), ('orders', '0020_document_conclusion_historicaldocument_conclusion'), ('orders', '0021_rename_date_historicaltaskposition_task_position_date_and_more')]

    initial = True

    dependencies = [
        ('company', '0002_alter_company_logo'),
        ('company', '0007_alter_bank_options_alter_company_options_and_more'),
        ('customers', '0001_initial'),
        ('customers', '0005_alter_customer_options_alter_customer_city_and_more'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='OrderType',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('name', models.CharField(max_length=100)),
                ('description', models.TextField(blank=True, null=True)),
                ('created_by', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='created_%(class)s', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='updated_%(class)s', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='Order',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('description', models.TextField()),
                ('start_date', models.DateField(blank=True, null=True)),
                ('end_date', models.DateField(blank=True, null=True)),
                ('customer', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='customers.customer')),
                ('order_type', models.ForeignKey(default=1, on_delete=django.db.models.deletion.CASCADE, to='orders.ordertype')),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='Task',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('description', models.TextField()),
                ('status', models.CharField(choices=[('created', 'Created'), ('in_progress', 'In Progress'), ('cancelled', 'Cancelled'), ('completed', 'Completed')], default='created', max_length=20)),
                ('hours_worked', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('name', models.CharField(default='Aufgaben Name', max_length=100)),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='Document',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(blank=True, null=True, verbose_name='Erstellt am')),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('description', models.TextField(blank=True, null=True, verbose_name='Beschreibung')),
                ('order', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='orders.order')),
                ('file_path', models.FileField(blank=True, null=True, upload_to='', verbose_name='Dateipfad')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='created_%(class)s', to=settings.AUTH_USER_MODEL, verbose_name='Erstellt von')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='updated_%(class)s', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'abstract': False,
                'verbose_name': 'Dokument',
                'verbose_name_plural': 'Dokumente',
            },
        ),
        migrations.AddField(
            model_name='order',
            name='tasks',
            field=models.ManyToManyField(blank=True, related_name='orders', to='orders.task'),
        ),
        migrations.AddField(
            model_name='order',
            name='company',
            field=models.ForeignKey(default=1, on_delete=django.db.models.deletion.CASCADE, to='company.company'),
        ),
        migrations.AddField(
            model_name='order',
            name='hourly_rate',
            field=models.DecimalField(decimal_places=2, default=80, max_digits=6),
            preserve_default=False,
        ),
        migrations.AddField(
            model_name='task',
            name='order',
            field=models.ForeignKey(default=1, on_delete=django.db.models.deletion.CASCADE, related_name='order_tasks', to='orders.order'),
            preserve_default=False,
        ),
        migrations.AlterField(
            model_name='order',
            name='tasks',
            field=models.ManyToManyField(related_name='orders', to='orders.task'),
        ),
        migrations.CreateModel(
            name='Vat',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, verbose_name='Steuername')),
                ('rate', models.DecimalField(decimal_places=2, default=19.0, max_digits=5, verbose_name='Steuersatz (%)')),
                ('created_at', models.DateTimeField(blank=True, null=True, verbose_name='Erstellt am')),
                ('is_default', models.BooleanField(default=False, verbose_name='Standard')),
                ('updated_at', models.DateTimeField(blank=True, null=True, verbose_name='Aktualisiert am')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='created_%(class)s', to=settings.AUTH_USER_MODEL, verbose_name='Erstellt von')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='updated_%(class)s', to=settings.AUTH_USER_MODEL, verbose_name='Aktualisiert von')),
            ],
            options={
                'verbose_name': 'Steuerart',
                'verbose_name_plural': 'Steuerarten',
            },
        ),
        migrations.AddField(
            model_name='task',
            name='vat',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='orders.vat'),
        ),
        migrations.AddField(
            model_name='order',
            name='nr',
            field=models.CharField(blank=True, max_length=10, null=True, unique=True),
        ),
        migrations.AddField(
            model_name='order',
            name='updated_by',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='updated_%(class)s', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='task',
            name='updated_by',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='updated_%(class)s', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='order',
            name='created_by',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='created_%(class)s', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='task',
            name='created_by',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='created_%(class)s', to=settings.AUTH_USER_MODEL),
        ),
        migrations.RemoveField(
            model_name='order',
            name='order_type',
        ),
        migrations.AlterModelOptions(
            name='order',
            options={'verbose_name': 'Projekt', 'verbose_name_plural': 'Projekte'},
        ),
        migrations.AlterModelOptions(
            name='task',
            options={'verbose_name': 'Aufgabe', 'verbose_name_plural': 'Aufgaben'},
        ),
        migrations.RemoveField(
            model_name='order',
            name='tasks',
        ),
        migrations.RemoveField(
            model_name='task',
            name='hours_worked',
        ),
        migrations.RemoveField(
            model_name='task',
            name='vat',
        ),
        migrations.AddField(
            model_name='order',
            name='additional_costs',
            field=models.DecimalField(blank=True, decimal_places=2, default=5, help_text='Prozentuale Nebenkosten für das Projekt.', max_digits=5, null=True, verbose_name='Nebenkosten (%)'),
        ),
        migrations.AddField(
            model_name='order',
            name='eligible_costs',
            field=models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True, verbose_name='Anrechenbare Kosten (€)'),
        ),
        migrations.AddField(
            model_name='order',
            name='fee_cost',
            field=models.DecimalField(decimal_places=2, default=10000, help_text='Diese Summe ist die Basis für die Berechnung der Angebotssumme', max_digits=10, verbose_name='Honorarsumme'),
            preserve_default=False,
        ),
        migrations.AddField(
            model_name='order',
            name='flat_rate',
            field=models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True, verbose_name='Pauschale'),
        ),
        migrations.AddField(
            model_name='order',
            name='km',
            field=models.DecimalField(blank=True, decimal_places=2, default=0, max_digits=12, null=True, verbose_name='Geleistete km'),
        ),
        migrations.AddField(
            model_name='order',
            name='km_cost',
            field=models.DecimalField(blank=True, decimal_places=2, default=0, max_digits=5, null=True, verbose_name='Fahrtkosten (€)'),
        ),
        migrations.AddField(
            model_name='order',
            name='name',
            field=models.CharField(blank=True, max_length=100, null=True, verbose_name='Projektbezeichnung'),
        ),
        migrations.AddField(
            model_name='order',
            name='vat',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='orders.vat', verbose_name='Steuersatz'),
        ),
        migrations.AddField(
            model_name='task',
            name='document',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='tasks', to='orders.document', verbose_name='Dokument'),
        ),
        migrations.AlterField(
            model_name='document',
            name='order',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='orders.order', verbose_name='Projekt'),
        ),
        migrations.AlterField(
            model_name='document',
            name='updated_at',
            field=models.DateTimeField(blank=True, null=True, verbose_name='Aktualisiert am'),
        ),
        migrations.AlterField(
            model_name='document',
            name='updated_by',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='updated_%(class)s', to=settings.AUTH_USER_MODEL, verbose_name='Aktualisiert von'),
        ),
        migrations.AlterField(
            model_name='order',
            name='company',
            field=models.ForeignKey(default=1, on_delete=django.db.models.deletion.CASCADE, to='company.company', verbose_name='Firma'),
        ),
        migrations.AlterField(
            model_name='order',
            name='created_at',
            field=models.DateTimeField(blank=True, null=True, verbose_name='Erstellt am'),
        ),
        migrations.AlterField(
            model_name='order',
            name='created_by',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='created_%(class)s', to=settings.AUTH_USER_MODEL, verbose_name='Erstellt von'),
        ),
        migrations.AlterField(
            model_name='order',
            name='customer',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='customers.customer', verbose_name='Kunde'),
        ),
        migrations.AlterField(
            model_name='order',
            name='description',
            field=models.TextField(blank=True, null=True, verbose_name='Beschreibung (Intern)'),
        ),
        migrations.AlterField(
            model_name='order',
            name='end_date',
            field=models.DateField(blank=True, null=True, verbose_name='Enddatum'),
        ),
        migrations.AlterField(
            model_name='order',
            name='hourly_rate',
            field=models.DecimalField(blank=True, decimal_places=2, max_digits=6, null=True, verbose_name='Stundensatz'),
        ),
        migrations.AlterField(
            model_name='order',
            name='nr',
            field=models.CharField(blank=True, max_length=10, null=True, unique=True, verbose_name='Auftragsnummer'),
        ),
        migrations.AlterField(
            model_name='order',
            name='start_date',
            field=models.DateField(blank=True, null=True, verbose_name='Startdatum'),
        ),
        migrations.AlterField(
            model_name='order',
            name='updated_at',
            field=models.DateTimeField(blank=True, null=True, verbose_name='Aktualisiert am'),
        ),
        migrations.AlterField(
            model_name='order',
            name='updated_by',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='updated_%(class)s', to=settings.AUTH_USER_MODEL, verbose_name='Aktualisiert von'),
        ),
        migrations.AlterField(
            model_name='task',
            name='created_at',
            field=models.DateTimeField(blank=True, null=True, verbose_name='Erstellt am'),
        ),
        migrations.AlterField(
            model_name='task',
            name='created_by',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='created_%(class)s', to=settings.AUTH_USER_MODEL, verbose_name='Erstellt von'),
        ),
        migrations.AlterField(
            model_name='task',
            name='description',
            field=models.TextField(blank=True, null=True, verbose_name='Beschreibung'),
        ),
        migrations.AlterField(
            model_name='task',
            name='name',
            field=models.CharField(max_length=100, verbose_name='Aufgabenname'),
        ),
        migrations.AlterField(
            model_name='task',
            name='order',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='order_tasks', to='orders.order', verbose_name='Projekt'),
        ),
        migrations.AlterField(
            model_name='task',
            name='status',
            field=models.CharField(choices=[('open', 'Offen'), ('booked', 'Abgerechnet')], default='created', max_length=20, verbose_name='Status'),
        ),
        migrations.AlterField(
            model_name='task',
            name='updated_at',
            field=models.DateTimeField(blank=True, null=True, verbose_name='Aktualisiert am'),
        ),
        migrations.AlterField(
            model_name='task',
            name='updated_by',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='updated_%(class)s', to=settings.AUTH_USER_MODEL, verbose_name='Aktualisiert von'),
        ),
        migrations.CreateModel(
            name='DocumentType',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(blank=True, null=True, verbose_name='Erstellt am')),
                ('updated_at', models.DateTimeField(blank=True, null=True, verbose_name='Aktualisiert am')),
                ('name', models.CharField(max_length=100, verbose_name='Dokumenttyp')),
                ('description', models.TextField(blank=True, null=True, verbose_name='Beschreibung')),
                ('book_tasks', models.BooleanField(default=False, verbose_name='Tasks automatisch buchen?')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='created_%(class)s', to=settings.AUTH_USER_MODEL, verbose_name='Erstellt von')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='updated_%(class)s', to=settings.AUTH_USER_MODEL, verbose_name='Aktualisiert von')),
            ],
            options={
                'verbose_name': 'Dokumenttyp',
                'verbose_name_plural': 'Dokumenttypen',
            },
        ),
        migrations.AddField(
            model_name='document',
            name='document_type',
            field=models.ForeignKey(default=1, on_delete=django.db.models.deletion.CASCADE, to='orders.documenttype', verbose_name='Dokumententyp'),
            preserve_default=False,
        ),
        migrations.CreateModel(
            name='FeeClass',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(blank=True, null=True, verbose_name='Erstellt am')),
                ('updated_at', models.DateTimeField(blank=True, null=True, verbose_name='Aktualisiert am')),
                ('zone_number', models.CharField(choices=[('I', 'Zone I'), ('II', 'Zone II'), ('III', 'Zone III'), ('IV', 'Zone IV'), ('V', 'Zone V')], default='III', help_text='Wähle die Honorarzone (I bis V) aus.', max_length=3, verbose_name='Honorarzone')),
                ('name', models.CharField(max_length=100, verbose_name='Honorarklasse')),
                ('description', models.TextField(blank=True, null=True, verbose_name='Beschreibung')),
                ('percentage', models.DecimalField(decimal_places=2, max_digits=5, verbose_name='Prozent')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='created_%(class)s', to=settings.AUTH_USER_MODEL, verbose_name='Erstellt von')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='updated_%(class)s', to=settings.AUTH_USER_MODEL, verbose_name='Aktualisiert von')),
            ],
            options={
                'verbose_name': 'Honorarklasse',
                'verbose_name_plural': 'Honorarklassen',
                'ordering': ['fee_group__name', 'zone_number'],
            },
        ),
        migrations.AddField(
            model_name='order',
            name='fee_classes',
            field=models.ManyToManyField(related_name='orders', to='orders.feeclass', verbose_name='Honorarzonen'),
        ),
        migrations.CreateModel(
            name='FeeGroup',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(blank=True, null=True, verbose_name='Erstellt am')),
                ('updated_at', models.DateTimeField(blank=True, null=True, verbose_name='Aktualisiert am')),
                ('name', models.CharField(max_length=100, verbose_name='Name der Honorarklassen Gruppe')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='created_%(class)s', to=settings.AUTH_USER_MODEL, verbose_name='Erstellt von')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='updated_%(class)s', to=settings.AUTH_USER_MODEL, verbose_name='Aktualisiert von')),
            ],
            options={
                'verbose_name': 'Gruppe Honorarklasse',
                'verbose_name_plural': 'Gruppen Honorarklasse',
            },
        ),
        migrations.AddField(
            model_name='feeclass',
            name='fee_group',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='orders.feegroup', verbose_name='Gruppe Honorarklasse'),
        ),
        migrations.CreateModel(
            name='FeeRate',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(blank=True, null=True, verbose_name='Erstellt am')),
                ('updated_at', models.DateTimeField(blank=True, null=True, verbose_name='Aktualisiert am')),
                ('name', models.CharField(max_length=100, verbose_name='Rate Name')),
                ('percentage', models.DecimalField(decimal_places=2, max_digits=5, verbose_name='Percentage')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='created_%(class)s', to=settings.AUTH_USER_MODEL, verbose_name='Erstellt von')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='updated_%(class)s', to=settings.AUTH_USER_MODEL, verbose_name='Aktualisiert von')),
            ],
            options={
                'verbose_name': 'Honorar Satz',
                'verbose_name_plural': 'Honorar Sätze',
            },
        ),
        migrations.AddField(
            model_name='order',
            name='fee_rate',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='Satz', to='orders.feerate', verbose_name='Sätze'),
        ),
        migrations.CreateModel(
            name='FlatFee',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(blank=True, null=True, verbose_name='Erstellt am')),
                ('updated_at', models.DateTimeField(blank=True, null=True, verbose_name='Aktualisiert am')),
                ('name', models.TextField(help_text='Description of the flat fee', max_length=100, verbose_name='Name der Pauschale')),
                ('amount', models.DecimalField(decimal_places=2, help_text='Amount for this flat fee in Euros', max_digits=10, verbose_name='Betrag (€)')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='created_%(class)s', to=settings.AUTH_USER_MODEL, verbose_name='Erstellt von')),
                ('order', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='flat_fees', to='orders.order', verbose_name='Projekt')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='updated_%(class)s', to=settings.AUTH_USER_MODEL, verbose_name='Aktualisiert von')),
            ],
            options={
                'verbose_name': 'Pauschale',
                'verbose_name_plural': 'Pauschalen',
            },
        ),
        migrations.CreateModel(
            name='HistoricalDocument',
            fields=[
                ('id', models.BigIntegerField(auto_created=True, blank=True, db_index=True, verbose_name='ID')),
                ('created_at', models.DateTimeField(blank=True, null=True, verbose_name='Erstellt am')),
                ('updated_at', models.DateTimeField(blank=True, null=True, verbose_name='Aktualisiert am')),
                ('file_path', models.TextField(blank=True, max_length=100, null=True, verbose_name='Dateipfad')),
                ('description', models.TextField(blank=True, null=True, verbose_name='Beschreibung')),
                ('history_id', models.AutoField(primary_key=True, serialize=False)),
                ('history_date', models.DateTimeField(db_index=True)),
                ('history_change_reason', models.CharField(max_length=100, null=True)),
                ('history_type', models.CharField(choices=[('+', 'Created'), ('~', 'Changed'), ('-', 'Deleted')], max_length=1)),
                ('created_by', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL, verbose_name='Erstellt von')),
                ('document_type', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='orders.documenttype', verbose_name='Dokumententyp')),
                ('history_user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('order', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='orders.order', verbose_name='Projekt')),
                ('updated_by', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL, verbose_name='Aktualisiert von')),
                ('introduction', models.TextField(blank=True, default=orders.models.default_introduction, null=True, verbose_name='Einleitung')),
                ('conclusion', models.TextField(blank=True, null=True, verbose_name='Abschluss')),
            ],
            options={
                'verbose_name': 'historical Dokument',
                'verbose_name_plural': 'historical Dokumente',
                'ordering': ('-history_date', '-history_id'),
                'get_latest_by': ('history_date', 'history_id'),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name='HistoricalDocumentType',
            fields=[
                ('id', models.BigIntegerField(auto_created=True, blank=True, db_index=True, verbose_name='ID')),
                ('created_at', models.DateTimeField(blank=True, null=True, verbose_name='Erstellt am')),
                ('updated_at', models.DateTimeField(blank=True, null=True, verbose_name='Aktualisiert am')),
                ('name', models.CharField(max_length=100, verbose_name='Dokumenttyp')),
                ('description', models.TextField(blank=True, null=True, verbose_name='Beschreibung')),
                ('book_tasks', models.BooleanField(default=False, verbose_name='Tasks automatisch buchen?')),
                ('history_id', models.AutoField(primary_key=True, serialize=False)),
                ('history_date', models.DateTimeField(db_index=True)),
                ('history_change_reason', models.CharField(max_length=100, null=True)),
                ('history_type', models.CharField(choices=[('+', 'Created'), ('~', 'Changed'), ('-', 'Deleted')], max_length=1)),
                ('created_by', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL, verbose_name='Erstellt von')),
                ('history_user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL, verbose_name='Aktualisiert von')),
            ],
            options={
                'verbose_name': 'historical Dokumenttyp',
                'verbose_name_plural': 'historical Dokumenttypen',
                'ordering': ('-history_date', '-history_id'),
                'get_latest_by': ('history_date', 'history_id'),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name='HistoricalFeeClass',
            fields=[
                ('id', models.BigIntegerField(auto_created=True, blank=True, db_index=True, verbose_name='ID')),
                ('created_at', models.DateTimeField(blank=True, null=True, verbose_name='Erstellt am')),
                ('updated_at', models.DateTimeField(blank=True, null=True, verbose_name='Aktualisiert am')),
                ('zone_number', models.CharField(choices=[('I', 'Zone I'), ('II', 'Zone II'), ('III', 'Zone III'), ('IV', 'Zone IV'), ('V', 'Zone V')], default='III', help_text='Wähle die Honorarzone (I bis V) aus.', max_length=3, verbose_name='Honorarzone')),
                ('name', models.CharField(max_length=100, verbose_name='Honorarklasse')),
                ('description', models.TextField(blank=True, null=True, verbose_name='Beschreibung')),
                ('percentage', models.DecimalField(decimal_places=2, max_digits=5, verbose_name='Prozent')),
                ('history_id', models.AutoField(primary_key=True, serialize=False)),
                ('history_date', models.DateTimeField(db_index=True)),
                ('history_change_reason', models.CharField(max_length=100, null=True)),
                ('history_type', models.CharField(choices=[('+', 'Created'), ('~', 'Changed'), ('-', 'Deleted')], max_length=1)),
                ('created_by', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL, verbose_name='Erstellt von')),
                ('fee_group', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='orders.feegroup', verbose_name='Gruppe Honorarklasse')),
                ('history_user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL, verbose_name='Aktualisiert von')),
            ],
            options={
                'verbose_name': 'historical Honorarklasse',
                'verbose_name_plural': 'historical Honorarklassen',
                'ordering': ('-history_date', '-history_id'),
                'get_latest_by': ('history_date', 'history_id'),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name='HistoricalFeeGroup',
            fields=[
                ('id', models.BigIntegerField(auto_created=True, blank=True, db_index=True, verbose_name='ID')),
                ('created_at', models.DateTimeField(blank=True, null=True, verbose_name='Erstellt am')),
                ('updated_at', models.DateTimeField(blank=True, null=True, verbose_name='Aktualisiert am')),
                ('name', models.CharField(max_length=100, verbose_name='Name der Honorarklassen Gruppe')),
                ('history_id', models.AutoField(primary_key=True, serialize=False)),
                ('history_date', models.DateTimeField(db_index=True)),
                ('history_change_reason', models.CharField(max_length=100, null=True)),
                ('history_type', models.CharField(choices=[('+', 'Created'), ('~', 'Changed'), ('-', 'Deleted')], max_length=1)),
                ('created_by', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL, verbose_name='Erstellt von')),
                ('history_user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL, verbose_name='Aktualisiert von')),
            ],
            options={
                'verbose_name': 'historical Gruppe Honorarklasse',
                'verbose_name_plural': 'historical Gruppen Honorarklasse',
                'ordering': ('-history_date', '-history_id'),
                'get_latest_by': ('history_date', 'history_id'),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name='HistoricalFeeRate',
            fields=[
                ('id', models.BigIntegerField(auto_created=True, blank=True, db_index=True, verbose_name='ID')),
                ('created_at', models.DateTimeField(blank=True, null=True, verbose_name='Erstellt am')),
                ('updated_at', models.DateTimeField(blank=True, null=True, verbose_name='Aktualisiert am')),
                ('name', models.CharField(max_length=100, verbose_name='Rate Name')),
                ('percentage', models.DecimalField(decimal_places=2, max_digits=5, verbose_name='Percentage')),
                ('history_id', models.AutoField(primary_key=True, serialize=False)),
                ('history_date', models.DateTimeField(db_index=True)),
                ('history_change_reason', models.CharField(max_length=100, null=True)),
                ('history_type', models.CharField(choices=[('+', 'Created'), ('~', 'Changed'), ('-', 'Deleted')], max_length=1)),
                ('created_by', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL, verbose_name='Erstellt von')),
                ('history_user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL, verbose_name='Aktualisiert von')),
            ],
            options={
                'verbose_name': 'historical Honorar Satz',
                'verbose_name_plural': 'historical Honorar Sätze',
                'ordering': ('-history_date', '-history_id'),
                'get_latest_by': ('history_date', 'history_id'),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name='HistoricalFlatFee',
            fields=[
                ('id', models.BigIntegerField(auto_created=True, blank=True, db_index=True, verbose_name='ID')),
                ('created_at', models.DateTimeField(blank=True, null=True, verbose_name='Erstellt am')),
                ('updated_at', models.DateTimeField(blank=True, null=True, verbose_name='Aktualisiert am')),
                ('name', models.TextField(help_text='Description of the flat fee', max_length=100, verbose_name='Name der Pauschale')),
                ('amount', models.DecimalField(decimal_places=2, help_text='Amount for this flat fee in Euros', max_digits=10, verbose_name='Betrag (€)')),
                ('history_id', models.AutoField(primary_key=True, serialize=False)),
                ('history_date', models.DateTimeField(db_index=True)),
                ('history_change_reason', models.CharField(max_length=100, null=True)),
                ('history_type', models.CharField(choices=[('+', 'Created'), ('~', 'Changed'), ('-', 'Deleted')], max_length=1)),
                ('created_by', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL, verbose_name='Erstellt von')),
                ('history_user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('order', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='orders.order', verbose_name='Projekt')),
                ('updated_by', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL, verbose_name='Aktualisiert von')),
            ],
            options={
                'verbose_name': 'historical Pauschale',
                'verbose_name_plural': 'historical Pauschalen',
                'ordering': ('-history_date', '-history_id'),
                'get_latest_by': ('history_date', 'history_id'),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name='HistoricalOrder',
            fields=[
                ('id', models.BigIntegerField(auto_created=True, blank=True, db_index=True, verbose_name='ID')),
                ('created_at', models.DateTimeField(blank=True, null=True, verbose_name='Erstellt am')),
                ('updated_at', models.DateTimeField(blank=True, null=True, verbose_name='Aktualisiert am')),
                ('name', models.CharField(blank=True, max_length=100, null=True, verbose_name='Projektbezeichnung')),
                ('nr', models.CharField(blank=True, db_index=True, max_length=10, null=True, verbose_name='Auftragsnummer')),
                ('description', models.TextField(blank=True, null=True, verbose_name='Beschreibung (Intern)')),
                ('hourly_rate', models.DecimalField(blank=True, decimal_places=2, max_digits=6, null=True, verbose_name='Stundensatz')),
                ('flat_rate', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True, verbose_name='Pauschale')),
                ('start_date', models.DateField(blank=True, null=True, verbose_name='Startdatum')),
                ('end_date', models.DateField(blank=True, null=True, verbose_name='Enddatum')),
                ('eligible_costs', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True, verbose_name='Anrechenbare Kosten (€)')),
                ('fee_cost', models.DecimalField(decimal_places=2, help_text='Diese Summe ist die Basis für die Berechnung der Angebotssumme', max_digits=10, verbose_name='Honorarsumme')),
                ('additional_costs', models.DecimalField(blank=True, decimal_places=2, default=5, help_text='Prozentuale Nebenkosten für das Projekt.', max_digits=5, null=True, verbose_name='Nebenkosten (%)')),
                ('km_cost', models.DecimalField(blank=True, decimal_places=2, default=0, max_digits=5, null=True, verbose_name='Fahrtkosten (€)')),
                ('km', models.DecimalField(blank=True, decimal_places=2, default=0, max_digits=12, null=True, verbose_name='Geleistete km')),
                ('history_id', models.AutoField(primary_key=True, serialize=False)),
                ('history_date', models.DateTimeField(db_index=True)),
                ('history_change_reason', models.CharField(max_length=100, null=True)),
                ('history_type', models.CharField(choices=[('+', 'Created'), ('~', 'Changed'), ('-', 'Deleted')], max_length=1)),
                ('company', models.ForeignKey(blank=True, db_constraint=False, default=1, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='company.company', verbose_name='Firma')),
                ('created_by', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL, verbose_name='Erstellt von')),
                ('customer', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='customers.customer', verbose_name='Kunde')),
                ('fee_rate', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='orders.feerate', verbose_name='Sätze')),
                ('history_user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL, verbose_name='Aktualisiert von')),
                ('vat', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='orders.vat', verbose_name='Steuersatz')),
            ],
            options={
                'verbose_name': 'historical Projekt',
                'verbose_name_plural': 'historical Projekte',
                'ordering': ('-history_date', '-history_id'),
                'get_latest_by': ('history_date', 'history_id'),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name='HistoricalOrderLineItem',
            fields=[
                ('id', models.BigIntegerField(auto_created=True, blank=True, db_index=True, verbose_name='ID')),
                ('created_at', models.DateTimeField(blank=True, null=True, verbose_name='Erstellt am')),
                ('updated_at', models.DateTimeField(blank=True, null=True, verbose_name='Aktualisiert am')),
                ('name', models.TextField(help_text='Beschreibung der Position. Sie können hier Textformatierungen anwenden.', verbose_name='Bezeichnung')),
                ('amount', models.DecimalField(blank=True, decimal_places=2, help_text='Betrag für diese Position in Euro.', max_digits=10, null=True, verbose_name='Betrag (€)')),
                ('history_id', models.AutoField(primary_key=True, serialize=False)),
                ('history_date', models.DateTimeField(db_index=True)),
                ('history_change_reason', models.CharField(max_length=100, null=True)),
                ('history_type', models.CharField(choices=[('+', 'Created'), ('~', 'Changed'), ('-', 'Deleted')], max_length=1)),
                ('created_by', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL, verbose_name='Erstellt von')),
                ('fee_class', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='orders.feeclass', verbose_name='Honorarzone')),
                ('history_user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('order', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='orders.order', verbose_name='Projekt')),
                ('updated_by', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL, verbose_name='Aktualisiert von')),
            ],
            options={
                'verbose_name': 'historical Besondere Leistungen',
                'verbose_name_plural': 'historical Besondere Leistung',
                'ordering': ('-history_date', '-history_id'),
                'get_latest_by': ('history_date', 'history_id'),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name='HistoricalServicePhase',
            fields=[
                ('id', models.BigIntegerField(auto_created=True, blank=True, db_index=True, verbose_name='ID')),
                ('created_at', models.DateTimeField(blank=True, null=True, verbose_name='Erstellt am')),
                ('updated_at', models.DateTimeField(blank=True, null=True, verbose_name='Aktualisiert am')),
                ('lph', models.CharField(blank=True, max_length=100, null=True, verbose_name='Leistungsphase')),
                ('name', models.CharField(max_length=100, verbose_name='Titel')),
                ('description', models.TextField(blank=True, null=True, verbose_name='Beschreibung')),
                ('percent', models.DecimalField(decimal_places=2, max_digits=5, verbose_name='Prozentwert')),
                ('history_id', models.AutoField(primary_key=True, serialize=False)),
                ('history_date', models.DateTimeField(db_index=True)),
                ('history_change_reason', models.CharField(max_length=100, null=True)),
                ('history_type', models.CharField(choices=[('+', 'Created'), ('~', 'Changed'), ('-', 'Deleted')], max_length=1)),
                ('created_by', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL, verbose_name='Erstellt von')),
                ('history_user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL, verbose_name='Aktualisiert von')),
            ],
            options={
                'verbose_name': 'historical Leistungsphase',
                'verbose_name_plural': 'historical Leistungsphasen',
                'ordering': ('-history_date', '-history_id'),
                'get_latest_by': ('history_date', 'history_id'),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name='HistoricalTag',
            fields=[
                ('id', models.BigIntegerField(auto_created=True, blank=True, db_index=True, verbose_name='ID')),
                ('created_at', models.DateTimeField(blank=True, null=True, verbose_name='Erstellt am')),
                ('updated_at', models.DateTimeField(blank=True, null=True, verbose_name='Aktualisiert am')),
                ('name', models.CharField(db_index=True, max_length=100, verbose_name='Tag-Name')),
                ('color', colorful.fields.RGBColorField(default=orders.models.generate_random_color, verbose_name='Farbe')),
                ('history_id', models.AutoField(primary_key=True, serialize=False)),
                ('history_date', models.DateTimeField(db_index=True)),
                ('history_change_reason', models.CharField(max_length=100, null=True)),
                ('history_type', models.CharField(choices=[('+', 'Created'), ('~', 'Changed'), ('-', 'Deleted')], max_length=1)),
                ('created_by', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL, verbose_name='Erstellt von')),
                ('history_user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL, verbose_name='Aktualisiert von')),
            ],
            options={
                'verbose_name': 'historical Tag',
                'verbose_name_plural': 'historical Tags',
                'ordering': ('-history_date', '-history_id'),
                'get_latest_by': ('history_date', 'history_id'),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name='HistoricalTask',
            fields=[
                ('id', models.BigIntegerField(auto_created=True, blank=True, db_index=True, verbose_name='ID')),
                ('created_at', models.DateTimeField(blank=True, null=True, verbose_name='Erstellt am')),
                ('updated_at', models.DateTimeField(blank=True, null=True, verbose_name='Aktualisiert am')),
                ('name', models.CharField(max_length=100, verbose_name='Aufgabenname')),
                ('description', models.TextField(blank=True, null=True, verbose_name='Beschreibung')),
                ('status', models.CharField(choices=[('open', 'Offen'), ('booked', 'Abgerechnet')], default='created', max_length=20, verbose_name='Status')),
                ('history_id', models.AutoField(primary_key=True, serialize=False)),
                ('history_date', models.DateTimeField(db_index=True)),
                ('history_change_reason', models.CharField(max_length=100, null=True)),
                ('history_type', models.CharField(choices=[('+', 'Created'), ('~', 'Changed'), ('-', 'Deleted')], max_length=1)),
                ('created_by', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL, verbose_name='Erstellt von')),
                ('document', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='orders.document', verbose_name='Dokument')),
                ('history_user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('order', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='orders.order', verbose_name='Projekt')),
                ('updated_by', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL, verbose_name='Aktualisiert von')),
            ],
            options={
                'verbose_name': 'historical Aufgabe',
                'verbose_name_plural': 'historical Aufgaben',
                'ordering': ('-history_date', '-history_id'),
                'get_latest_by': ('history_date', 'history_id'),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name='HistoricalTaskPosition',
            fields=[
                ('id', models.BigIntegerField(auto_created=True, blank=True, db_index=True, verbose_name='ID')),
                ('created_at', models.DateTimeField(blank=True, null=True, verbose_name='Erstellt am')),
                ('updated_at', models.DateTimeField(blank=True, null=True, verbose_name='Aktualisiert am')),
                ('hours_worked', models.DecimalField(decimal_places=2, max_digits=5, verbose_name='Geleistete Stunden')),
                ('task_position_date', models.DateField(default=django.utils.timezone.now, verbose_name='Datum')),
                ('distance_in_km', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True, verbose_name='Fahrtkosten (in km)')),
                ('description', models.TextField(blank=True, null=True, verbose_name='Bemerkung')),
                ('status', models.CharField(choices=[('open', 'Offen'), ('booked', 'Abgerechnet')], default='open', max_length=20, verbose_name='Status')),
                ('history_id', models.AutoField(primary_key=True, serialize=False)),
                ('history_date', models.DateTimeField(db_index=True)),
                ('history_change_reason', models.CharField(max_length=100, null=True)),
                ('history_type', models.CharField(choices=[('+', 'Created'), ('~', 'Changed'), ('-', 'Deleted')], max_length=1)),
                ('created_by', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL, verbose_name='Erstellt von')),
                ('document', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='orders.document', verbose_name='Verknüpftes Dokument')),
                ('history_user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('task', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='orders.task', verbose_name='Aufgabe')),
                ('updated_by', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL, verbose_name='Aktualisiert von')),
            ],
            options={
                'verbose_name': 'historical task position',
                'verbose_name_plural': 'historical task positions',
                'ordering': ('-history_date', '-history_id'),
                'get_latest_by': ('history_date', 'history_id'),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name='HistoricalVat',
            fields=[
                ('id', models.BigIntegerField(auto_created=True, blank=True, db_index=True, verbose_name='ID')),
                ('created_at', models.DateTimeField(blank=True, null=True, verbose_name='Erstellt am')),
                ('updated_at', models.DateTimeField(blank=True, null=True, verbose_name='Aktualisiert am')),
                ('name', models.CharField(max_length=100, verbose_name='Steuername')),
                ('rate', models.DecimalField(decimal_places=2, default=19.0, max_digits=5, verbose_name='Steuersatz (%)')),
                ('is_default', models.BooleanField(default=False, verbose_name='Standard')),
                ('history_id', models.AutoField(primary_key=True, serialize=False)),
                ('history_date', models.DateTimeField(db_index=True)),
                ('history_change_reason', models.CharField(max_length=100, null=True)),
                ('history_type', models.CharField(choices=[('+', 'Created'), ('~', 'Changed'), ('-', 'Deleted')], max_length=1)),
                ('created_by', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL, verbose_name='Erstellt von')),
                ('history_user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL, verbose_name='Aktualisiert von')),
            ],
            options={
                'verbose_name': 'historical Steuerart',
                'verbose_name_plural': 'historical Steuerarten',
                'ordering': ('-history_date', '-history_id'),
                'get_latest_by': ('history_date', 'history_id'),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name='OrderLineItem',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(blank=True, null=True, verbose_name='Erstellt am')),
                ('updated_at', models.DateTimeField(blank=True, null=True, verbose_name='Aktualisiert am')),
                ('name', models.TextField(help_text='Beschreibung der Position. Sie können hier Textformatierungen anwenden.', verbose_name='Bezeichnung')),
                ('amount', models.DecimalField(blank=True, decimal_places=2, help_text='Betrag für diese Position in Euro.', max_digits=10, null=True, verbose_name='Betrag (€)')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='created_%(class)s', to=settings.AUTH_USER_MODEL, verbose_name='Erstellt von')),
                ('fee_class', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='line_items', to='orders.feeclass', verbose_name='Honorarzone')),
                ('order', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='line_items', to='orders.order', verbose_name='Projekt')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='updated_%(class)s', to=settings.AUTH_USER_MODEL, verbose_name='Aktualisiert von')),
            ],
            options={
                'verbose_name': 'Besondere Leistungen',
                'verbose_name_plural': 'Besondere Leistung',
            },
        ),
        migrations.CreateModel(
            name='ServicePhase',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(blank=True, null=True, verbose_name='Erstellt am')),
                ('updated_at', models.DateTimeField(blank=True, null=True, verbose_name='Aktualisiert am')),
                ('lph', models.CharField(blank=True, max_length=100, null=True, verbose_name='Leistungsphase')),
                ('name', models.CharField(max_length=100, verbose_name='Titel')),
                ('description', models.TextField(blank=True, null=True, verbose_name='Beschreibung')),
                ('percent', models.DecimalField(decimal_places=2, max_digits=5, verbose_name='Prozentwert')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='created_%(class)s', to=settings.AUTH_USER_MODEL, verbose_name='Erstellt von')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='updated_%(class)s', to=settings.AUTH_USER_MODEL, verbose_name='Aktualisiert von')),
            ],
            options={
                'verbose_name': 'Leistungsphase',
                'verbose_name_plural': 'Leistungsphasen',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='OrderServicePhase',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(blank=True, null=True, verbose_name='Erstellt am')),
                ('updated_at', models.DateTimeField(blank=True, null=True, verbose_name='Aktualisiert am')),
                ('name', models.TextField(help_text='Beschreibung der Leistungsphase.', verbose_name='Bezeichnung')),
                ('percent', models.DecimalField(decimal_places=2, help_text='Prozentwert für diese Phase', max_digits=5, verbose_name='Prozentwert')),
                ('rebate', models.DecimalField(blank=True, decimal_places=2, help_text='Spezieller Rabatt für diese LPH', max_digits=5, null=True, verbose_name='Rabatt (%)')),
                ('include_in_total_amount', models.BooleanField(default=True, help_text='Diese Position von der Gesamtsumme auschließen? Dann deaktivieren!', verbose_name='Summe')),
                ('weight', models.PositiveIntegerField(db_index=True, default=0, verbose_name='weight')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='created_%(class)s', to=settings.AUTH_USER_MODEL, verbose_name='Erstellt von')),
                ('fee_class', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='orders.feeclass', verbose_name='Honorarzone')),
                ('order', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='order_service_phases', to='orders.order', verbose_name='Projekt')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='updated_%(class)s', to=settings.AUTH_USER_MODEL, verbose_name='Aktualisiert von')),
                ('service_phase', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='order_service_phases', to='orders.servicephase', verbose_name='Leistungsphase')),
            ],
            options={
                'verbose_name': 'Projekt Leistungsphase',
                'verbose_name_plural': 'Projekt Leistungsphasen',
            },
        ),
        migrations.CreateModel(
            name='OrderFeeClassPhase',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(blank=True, null=True, verbose_name='Erstellt am')),
                ('updated_at', models.DateTimeField(blank=True, null=True, verbose_name='Aktualisiert am')),
                ('custom_name', models.CharField(blank=True, max_length=100, verbose_name='LPH Name')),
                ('custom_percent', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True, verbose_name='LPH %')),
                ('custom_description', models.TextField(blank=True, null=True, verbose_name='LPH Beschreibung')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='created_%(class)s', to=settings.AUTH_USER_MODEL, verbose_name='Erstellt von')),
                ('fee_class', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='orders.feeclass', verbose_name='Honorarzone')),
                ('order', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='orders.order', verbose_name='Projekt')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='updated_%(class)s', to=settings.AUTH_USER_MODEL, verbose_name='Aktualisiert von')),
                ('service_phase', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='orders.servicephase', verbose_name='Leistungsphase')),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='HistoricalOrderServicePhase',
            fields=[
                ('id', models.BigIntegerField(auto_created=True, blank=True, db_index=True, verbose_name='ID')),
                ('created_at', models.DateTimeField(blank=True, null=True, verbose_name='Erstellt am')),
                ('updated_at', models.DateTimeField(blank=True, null=True, verbose_name='Aktualisiert am')),
                ('name', models.TextField(help_text='Beschreibung der Leistungsphase.', verbose_name='Bezeichnung')),
                ('percent', models.DecimalField(decimal_places=2, help_text='Prozentwert für diese Phase', max_digits=5, verbose_name='Prozentwert')),
                ('rebate', models.DecimalField(blank=True, decimal_places=2, help_text='Spezieller Rabatt für diese LPH', max_digits=5, null=True, verbose_name='Rabatt (%)')),
                ('include_in_total_amount', models.BooleanField(default=True, help_text='Diese Position von der Gesamtsumme auschließen? Dann deaktivieren!', verbose_name='Summe')),
                ('weight', models.PositiveIntegerField(db_index=True, default=0, verbose_name='weight')),
                ('history_id', models.AutoField(primary_key=True, serialize=False)),
                ('history_date', models.DateTimeField(db_index=True)),
                ('history_change_reason', models.CharField(max_length=100, null=True)),
                ('history_type', models.CharField(choices=[('+', 'Created'), ('~', 'Changed'), ('-', 'Deleted')], max_length=1)),
                ('created_by', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL, verbose_name='Erstellt von')),
                ('fee_class', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='orders.feeclass', verbose_name='Honorarzone')),
                ('history_user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('order', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='orders.order', verbose_name='Projekt')),
                ('updated_by', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL, verbose_name='Aktualisiert von')),
                ('service_phase', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='orders.servicephase', verbose_name='Leistungsphase')),
            ],
            options={
                'verbose_name': 'historical Projekt Leistungsphase',
                'verbose_name_plural': 'historical Projekt Leistungsphasen',
                'ordering': ('-history_date', '-history_id'),
                'get_latest_by': ('history_date', 'history_id'),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name='HistoricalOrderFeeClassPhase',
            fields=[
                ('id', models.BigIntegerField(auto_created=True, blank=True, db_index=True, verbose_name='ID')),
                ('created_at', models.DateTimeField(blank=True, null=True, verbose_name='Erstellt am')),
                ('updated_at', models.DateTimeField(blank=True, null=True, verbose_name='Aktualisiert am')),
                ('custom_name', models.CharField(blank=True, max_length=100, verbose_name='LPH Name')),
                ('custom_percent', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True, verbose_name='LPH %')),
                ('custom_description', models.TextField(blank=True, null=True, verbose_name='LPH Beschreibung')),
                ('history_id', models.AutoField(primary_key=True, serialize=False)),
                ('history_date', models.DateTimeField(db_index=True)),
                ('history_change_reason', models.CharField(max_length=100, null=True)),
                ('history_type', models.CharField(choices=[('+', 'Created'), ('~', 'Changed'), ('-', 'Deleted')], max_length=1)),
                ('created_by', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL, verbose_name='Erstellt von')),
                ('fee_class', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='orders.feeclass', verbose_name='Honorarzone')),
                ('history_user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('order', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='orders.order', verbose_name='Projekt')),
                ('updated_by', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL, verbose_name='Aktualisiert von')),
                ('service_phase', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='orders.servicephase', verbose_name='Leistungsphase')),
            ],
            options={
                'verbose_name': 'historical order fee class phase',
                'verbose_name_plural': 'historical order fee class phases',
                'ordering': ('-history_date', '-history_id'),
                'get_latest_by': ('history_date', 'history_id'),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name='Tag',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(blank=True, null=True, verbose_name='Erstellt am')),
                ('updated_at', models.DateTimeField(blank=True, null=True, verbose_name='Aktualisiert am')),
                ('name', models.CharField(max_length=100, unique=True, verbose_name='Tag-Name')),
                ('color', colorful.fields.RGBColorField(default=orders.models.generate_random_color, verbose_name='Farbe')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='created_%(class)s', to=settings.AUTH_USER_MODEL, verbose_name='Erstellt von')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='updated_%(class)s', to=settings.AUTH_USER_MODEL, verbose_name='Aktualisiert von')),
            ],
            options={
                'verbose_name': 'Tag',
                'verbose_name_plural': 'Tags',
            },
        ),
        migrations.AddField(
            model_name='order',
            name='tags',
            field=models.ManyToManyField(blank=True, related_name='orders', to='orders.tag', verbose_name='Tags'),
        ),
        migrations.AddField(
            model_name='task',
            name='tags',
            field=models.ManyToManyField(blank=True, related_name='tasks', to='orders.tag', verbose_name='Tags'),
        ),
        migrations.CreateModel(
            name='TaskPosition',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(blank=True, null=True, verbose_name='Erstellt am')),
                ('updated_at', models.DateTimeField(blank=True, null=True, verbose_name='Aktualisiert am')),
                ('hours_worked', models.DecimalField(decimal_places=2, max_digits=5, verbose_name='Geleistete Stunden')),
                ('task_position_date', models.DateField(default=django.utils.timezone.now, verbose_name='Datum')),
                ('distance_in_km', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True, verbose_name='Fahrtkosten (in km)')),
                ('description', models.TextField(blank=True, null=True, verbose_name='Bemerkung')),
                ('status', models.CharField(choices=[('open', 'Offen'), ('booked', 'Abgerechnet')], default='open', max_length=20, verbose_name='Status')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='created_%(class)s', to=settings.AUTH_USER_MODEL, verbose_name='Erstellt von')),
                ('document', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='task_positions', to='orders.document', verbose_name='Verknüpftes Dokument')),
                ('task', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='task_positions', to='orders.task', verbose_name='Aufgabe')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='updated_%(class)s', to=settings.AUTH_USER_MODEL, verbose_name='Aktualisiert von')),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.DeleteModel(
            name='OrderType',
        ),
        migrations.AddField(
            model_name='document',
            name='conclusion',
            field=models.TextField(blank=True, null=True, verbose_name='Abschluss'),
        ),
        migrations.AddField(
            model_name='document',
            name='introduction',
            field=models.TextField(blank=True, default=orders.models.default_introduction, null=True, verbose_name='Einleitung'),
        ),
    ]
